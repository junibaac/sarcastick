<!-- IMAGE MODAL (The Grid) -->
<div id="image-modal" class="modal-overlay" style="display: none;">
  <div class="window" style="width: 90%; max-width: 800px; height: 90%; display: flex; flex-direction: column;">
    <div class="title-bar">
      <div class="title-bar-text">ğŸ–¼ï¸ Visualizzatore Immagini - Netscape Navigator</div>
      <div class="title-bar-controls">
        <button aria-label="Close" onclick="closeModal()"></button>
      </div>
    </div>
    <div class="window-body" style="flex: 1; display: flex; gap: 10px; overflow: hidden; padding: 0;">
      <!-- Left: Image -->
      <div style="flex: 2; background: #000; display: flex; align-items: center; justify-content: center; position: relative;">
        <img id="modal-img" src="" style="max-width: 100%; max-height: 100%; object-fit: contain;">
      </div>
      
      <!-- Right: Details & Comments -->
      <div style="flex: 1; background: silver; display: flex; flex-direction: column; border-left: 2px solid white;">
        <div style="padding: 10px; border-bottom: 1px solid #888;">
          <h3 id="modal-title" style="margin: 0 0 5px 0;">Titolo Meme</h3>
          <div style="font-size: 12px;">
            Caricato da: <b id="modal-author">User</b><br>
            Il: <span id="modal-date">01/01/2000</span>
          </div>
          <div style="margin-top: 10px; display: flex; gap: 10px;">
            <button class="action-btn" onclick="voteCurrent()">ğŸ‘ Like <span id="modal-votes">0</span></button>
            <a id="download-link" href="#" download class="action-btn" style="text-decoration: none; color: black; display: inline-block; padding: 4px 10px;">ğŸ’¾ Salva</a>
          </div>
        </div>
        
        <!-- Comments -->
        <div style="flex: 1; display: flex; flex-direction: column; padding: 5px;">
          <div style="background: #000080; color: white; padding: 3px; font-weight: bold;">Commenti</div>
          <div id="comment-list" style="flex: 1; background: white; border: 2px inset white; overflow-y: auto; padding: 5px; font-size: 12px; margin-bottom: 5px;">
            <!-- Comments injected here -->
          </div>
          <div style="display: flex;">
            <input type="text" id="comment-input" placeholder="Scrivi un commento..." style="flex: 1;">
            <button onclick="submitComment()">Invia</button>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
